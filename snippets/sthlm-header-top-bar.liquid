{% comment %}
  STHLM Header Top Bar
  Renders the top utility bar with login, orders, help, and account links
{% endcomment %}

<div class="sthlm-top-bar">
  <div class="page-width">
    <div class="sthlm-top-bar__content">
      <!-- Left side - Country/Language selector could go here in future -->
      <div class="sthlm-top-bar__left">
        <!-- Reserved for future country/currency selector -->
      </div>

      <!-- Right side - Utility links -->
      <div class="sthlm-top-bar__right">
        <nav class="sthlm-top-bar__nav" role="navigation" aria-label="Utility navigation">
          <ul class="sthlm-top-bar__list">
            {%- if shop.customer_accounts_enabled -%}
              <li class="sthlm-top-bar__item">
                <a
                  href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}"
                  class="sthlm-top-bar__link"
                  aria-describedby="a11y-external-message"
                >
                  <span class="sthlm-top-bar__icon">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                      <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                  </span>
                  <span class="sthlm-top-bar__text">
                    {%- if customer -%}
                      {{ 'customer.account_fallback' | t }}
                    {%- else -%}
                      {{ 'customer.log_in' | t }} / {{ 'customer.register' | t }}
                    {%- endif -%}
                  </span>
                </a>
              </li>
            {%- endif -%}

            {%- if customer -%}
              <li class="sthlm-top-bar__item">
                <a href="{{ routes.account_url }}#orders" class="sthlm-top-bar__link">
                  <span class="sthlm-top-bar__icon">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                      <path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"/>
                    </svg>
                  </span>
                  <span class="sthlm-top-bar__text">{{ 'customer.orders.title' | t }}</span>
                </a>
              </li>
            {%- endif -%}

            <li class="sthlm-top-bar__item">
              <a href="{{ pages.help.url | default: '/pages/help' }}" class="sthlm-top-bar__link">
                <span class="sthlm-top-bar__icon">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
                  </svg>
                </span>
                <span class="sthlm-top-bar__text">{{ 'general.accessibility.help' | t }}</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>

<style>
  .sthlm-top-bar {
    padding: 0.5rem 0;
    font-size: 1.3rem;
    line-height: 1.4;
  }

  .sthlm-top-bar__content {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .sthlm-top-bar__list {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 2rem;
  }

  .sthlm-top-bar__link {
    display: flex;
    align-items: center;
    color: rgba(255, 255, 255, 0.9);
    text-decoration: none;
    transition: color 0.2s ease;
    gap: 0.5rem;
  }

  .sthlm-top-bar__link:hover {
    color: white;
    text-decoration: underline;
  }

  .sthlm-top-bar__icon svg {
    display: block;
    flex-shrink: 0;
  }

  .sthlm-top-bar__text {
    font-size: inherit;
    white-space: nowrap;
  }

  @media screen and (max-width: 749px) {
    .sthlm-top-bar {
      display: none;
    }
  }

  @media screen and (max-width: 990px) {
    .sthlm-top-bar__list {
      gap: 1.5rem;
    }

    .sthlm-top-bar__text {
      display: none;
    }

    .sthlm-top-bar__link {
      padding: 0.5rem;
    }
  }
</style>
